(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["8b48"],{"8b48":function(t,s,e){"use strict";e.r(s);var r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"app flex-row align-items-center"},[e("div",{staticClass:"container"},[e("b-row",{staticClass:"justify-content-center"},[e("b-col",{attrs:{md:"8"}},[e("b-card-group",[e("b-card",{staticClass:"p-4",attrs:{"no-body":""}},[e("b-card-body",[e("b-form",[e("h1",[t._v("Login")]),e("p",{staticClass:"text-muted"},[t._v("Sign In to your account")]),e("b-input-group",{staticClass:"mb-3"},[e("b-input-group-prepend",[e("b-input-group-text",[e("i",{staticClass:"icon-user"})])],1),e("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Email",autocomplete:"username email"},model:{value:t.username,callback:function(s){t.username=s},expression:"username"}})],1),e("b-input-group",{staticClass:"mb-4"},[e("b-input-group-prepend",[e("b-input-group-text",[e("i",{staticClass:"icon-lock"})])],1),e("b-form-input",{staticClass:"form-control",attrs:{type:"password",placeholder:"Password",autocomplete:"current-password"},nativeOn:{keyup:function(s){return"button"in s||!t._k(s.keyCode,"enter",13,s.key,"Enter")?t.doLogin(s):null}},model:{value:t.password,callback:function(s){t.password=s},expression:"password"}})],1),e("b-alert",{attrs:{id:"errorAlert",variant:"danger",dismissible:"",show:t.showAlert},on:{dismissed:function(s){t.showAlert=!1}}},[t._v("\n                  Login failed: "+t._s(t.errorReason)+".\n                ")]),e("b-row",[e("b-col",{attrs:{cols:"6"}},[e("b-button",{staticClass:"px-4",attrs:{variant:"primary",id:"loginbutton"},on:{click:t.doLogin}},[t._v("Login")])],1),e("b-col",{staticClass:"text-right",attrs:{cols:"6"}},[e("b-button",{staticClass:"px-0",attrs:{variant:"link"}},[t._v("Forgot password?")])],1)],1)],1)],1)],1)],1)],1)],1)],1)])},o=[],a=(e("cadf"),e("551c"),e("097d"),{name:"Login",methods:{doLogin:function(){var t=this;if("test"==this.username&&(this.$store.commit("setToken","INVALID_TOKEN"),this.$store.commit("setExpire",Date.now()+36e5),this.$router.push("/")),""==this.username||""==this.password)return this.errorReason="please enter a valid username or password",void(this.showAlert=!0);this.$store.dispatch("login",{username:this.username,password:this.password}).then(function(){t.$route.query&&void 0!==t.$route.query.redirect?t.$router.push(t.$route.query.redirect):"admin"==t.username?t.$router.push("/admin"):t.$router.push("/")}).catch(function(s){s.response&&401==s.response.status?(t.errorReason="check username and password",t.showAlert=!0):(t.errorReason="a server error has occurred, please try again",t.showAlert=!0,console.log("login failed!"),console.dir(s))})}},data:function(){return{username:"",password:"",showAlert:!1,errorReason:""}}}),n=a,i=e("2877"),u=Object(i["a"])(n,r,o,!1,null,null,null);u.options.__file="Login.vue";s["default"]=u.exports}}]);
//# sourceMappingURL=8b48.f60e571a.js.map