(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-356277c8"],{"1efe":function(e,t,s){},"3c2e":function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content-container"},[s("div",{staticClass:"selector-container"},[s("h4",[e._v(e._s(e.optionsTitle))]),s("b-input",{attrs:{id:"options-search",placeholder:"search"},model:{value:e.search1,callback:function(t){e.search1=t},expression:"search1"}}),s("b-form-select",{staticClass:"selector",attrs:{"text-field":e.tf,"value-field":e.vf,multiple:"","select-size":4,options:e.nonSelectedOptions},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1),s("div",{staticClass:"button-container"},[s("b-button",{attrs:{id:"move-right-button"},on:{click:e.moveRight}},[s("i",{staticClass:"cui-arrow-right"})]),s("b-button",{attrs:{id:"move-left-button"},on:{click:e.moveLeft}},[s("i",{staticClass:"cui-arrow-left"})])],1),s("div",{staticClass:"selector-container"},[s("h4",[e._v(e._s(e.selectedTitle))]),s("b-input",{attrs:{id:"selected-search",placeholder:"search"},model:{value:e.search2,callback:function(t){e.search2=t},expression:"search2"}}),s("b-form-select",{staticClass:"selector",attrs:{"text-field":e.tf,"value-field":e.vf,multiple:"","select-size":4,options:e.filteredRight},model:{value:e.selectedSelected,callback:function(t){e.selectedSelected=t},expression:"selectedSelected"}})],1)])},i=[],l=(s("6762"),s("2fdb"),s("7514"),s("ac4d"),s("8a81"),s("ac6a"),{name:"MultiSelect",data:function(){return{selectedOptions:[],selectedSelected:[],search1:"",search2:"",selected:this.value}},props:{optionsTitle:{type:String,default:"Options"},selectedTitle:{type:String,default:"Selected"},vf:"",tf:"",options:{type:Array},value:{type:Array,default:function(){return new Array}}},watch:{value:function(){this.selected=this.value}},methods:{moveRight:function(){var e=this,t=!0,s=!1,r=void 0;try{for(var i,l=function(){var t=i.value,s=e.options.find(function(s){return s[e.vf]===t});e.selected.push(s)},o=this.selectedOptions[Symbol.iterator]();!(t=(i=o.next()).done);t=!0)l()}catch(e){s=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(s)throw r}}this.selectedOptions=[],this.selectedSelected=[],this.$emit("input",this.selected)},moveLeft:function(){var e=this,t=!0,s=!1,r=void 0;try{for(var i,l=function(){var t=i.value,s=e.selected.find(function(s){return s[e.vf]===t});n=e.vf,e.selected=e.selected.filter(function(e){return e[n]!==s[n]})},o=this.selectedSelected[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var n;l()}}catch(e){s=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(s)throw r}}this.selectedOptions=[],this.selectedSelected=[],this.$emit("input",this.selected)},hasValue:function(e,t){var s=!0,r=!1,i=void 0;try{for(var l,o=e[Symbol.iterator]();!(s=(l=o.next()).done);s=!0){var n=l.value;if(n[this.vf]===t)return!0}}catch(e){r=!0,i=e}finally{try{s||null==o.return||o.return()}finally{if(r)throw i}}return!1}},computed:{filteredRight:function(){var e=this,t=this.tf;return this.selected.filter(function(s){return s[t].toLowerCase().includes(e.search2.toLowerCase())})},nonSelectedOptions:function(){var e=this;return this.options.filter(function(t){return!e.hasValue(e.selected,t[e.vf])&&t[e.tf].toLowerCase().includes(e.search1.toLowerCase())})}}}),o=l,n=(s("efeb"),s("2877")),a=Object(n["a"])(o,r,i,!1,null,null,null);a.options.__file="MultiSelect.vue";t["a"]=a.exports},"5f27":function(e,t,s){"use strict";var r=s("d369"),i=s.n(r);i.a},6966:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("b-row",[s("b-col",{attrs:{sm:"7"}},[s("b-list-group",[s("b-list-group-item",{staticClass:"first-row",attrs:{id:"userelement"}},[s("table",[s("tr",[s("th",{attrs:{id:"pk-cell"}},[s("b",[e._v("ID")])]),s("th",{attrs:{id:"email-cell"}},[e._v("Email")]),s("th",{attrs:{id:"name-cell"}},[e._v("Display Name")]),s("th",{attrs:{id:"role-cell"}},[e._v("Role")]),s("th",[e._v("Courses")])])])]),s("b-list-group-item",[s("table",e._l(e.users,function(t){return s("tr",{key:t.pk,attrs:{id:"userelement"},on:{click:function(s){e.click(t.pk)}}},[s("th",{attrs:{id:"pk-cell"}},[s("b",[e._v(e._s(t.pk))])]),s("th",{attrs:{id:"email-cell"}},[e._v(e._s(t.email))]),s("th",{attrs:{id:"name-cell"}}),s("th",{attrs:{id:"role-cell"}},[e._v(e._s(t.role))]),s("th",{attrs:{id:"course-cell"}},[s("ul",e._l(t.courses,function(t){return s("li",{key:t.course_name},[s("span",{attrs:{id:"course"}},[e._v(e._s(t.course_name))])])}))]),s("th",{attrs:{id:"button-cell"}},[s("button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"deleteModal",expression:"'deleteModal'"}]},[s("i",{staticClass:"cui-trash"})])])])}))])],1)],1),s("b-col",{attrs:{sm:"5"}},[s("b-card",{staticClass:"bg",attrs:{"no-body":""}},[s("b-card-header",[s("b",[e._v("Selected user:")]),e._v(" "+e._s(e.selectedUser)+"\n        ")]),s("b-card-body",{staticClass:"pb-0"},[s("b-form",[s("p",{staticClass:"text-muted"},[e._v("Edit user account")]),s("b-input-group",{staticClass:"mb-3"},[s("b-input-group-prepend",[s("b-input-group-text",[e._v("@")])],1),s("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Email",autocomplete:"email"},model:{value:e.selectedEmail,callback:function(t){e.selectedEmail=t},expression:"selectedEmail"}})],1),s("b-input-group",{staticClass:"mb-3"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedRole,expression:"selectedRole"}],staticClass:"form-control",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.selectedRole=t.target.multiple?s:s[0]}}},e._l(e.settings.roles,function(t){return s("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])}))]),s("multi-select",{staticClass:"mb-3",attrs:{id:"course-selector",multiple:"","select-size":4,options:e.courses,tf:"course_name",vf:"pk"},model:{value:e.selectedCourses,callback:function(t){e.selectedCourses=t},expression:"selectedCourses"}}),s("p",{staticClass:"text-muted"},[e._v("Hold down CTRL to select multiple courses.")]),s("b-alert",{attrs:{id:"alertbox",variant:"danger",dismissible:"",show:e.showAlert},on:{dismissed:function(t){e.showAlert=!1}}},[e._v("\n              Update failed: "+e._s(e.errorReason)+".\n            ")]),s("b-alert",{attrs:{id:"successbox",variant:"success",dismissible:"",show:e.showSuccess},on:{dismissed:function(t){e.showSuccess=!1}}},[e._v("\n              Update success.\n            ")]),s("b-button",{attrs:{id:"savebutton",variant:"success"},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)],1),s("b-modal",{attrs:{id:"deleteModal",title:"Are you sure?"},on:{ok:e.handleOk}},[s("p",{staticClass:"my-4"},[e._v("Are you sure you want to delete this user? "),s("br"),e._v(" "+e._s(e.selectedEmail))])])],1)},i=[],l=(s("7514"),s("e0eb")),o=s("83d6"),n=s("3c2e"),a={name:"AdminHome",components:{MultiSelect:n["a"]},data:function(){return{settings:o["a"],courses:[],selectedCourses:[],selectedEmail:"",selectedUser:"No user selected",selectedRole:o["a"].roles[0].id,showSuccess:!1,showAlert:!1,errorReason:"",users:[]}},methods:{click:function(e){this.showSuccess=!1,this.showAlert=!1;var t=this.getUser(e);this.selectedCourses=t.courses,this.selectedEmail=t.email,this.selectedUser=t.pk,this.selectedRole=t.role},deleteUser:function(e){var t=this;l["a"].deleteUser(e).then(function(e){t.getUsers()})},handleOk:function(){this.deleteUser(this.selectedUser)},save:function(){var e=this;"No user selected"!==this.selectedUser?l["a"].updateUser({courses:this.selectedCourses,email:this.selectedEmail,pk:this.selectedUser,role:this.selectedRole}).then(function(t){e.showAlert=!1,e.showSuccess=!0,e.getUsers()}).catch(function(t){for(var s in e.errorReason="",t.response.data)e.errorReason+=t.response.data[s][0]+"\n";e.showAlert=!0,e.showSuccess=!1}):(this.showAlert=!0,this.errorReason="No user selected")},getUser:function(e){return this.users.find(function(t){return t.pk===e})},getUsers:function(){var e=this;l["a"].getUsers().then(function(t){e.users=t.data}).catch(function(e){console.log(e)})},getCourse:function(e){return this.courses.find(function(t){return t.pk===e})},getCourses:function(){var e=this;l["a"].getCourses().then(function(t){e.courses=t.data}).catch(function(e){console.log(e)})}},beforeMount:function(){this.getUsers(),this.getCourses()}},c=a,u=(s("5f27"),s("2877")),d=Object(u["a"])(c,r,i,!1,null,null,null);d.options.__file="AdminHome.vue";t["default"]=d.exports},"83d6":function(e,t,s){"use strict";t["a"]={platforms:[{name:"Coursera",slug:"coursera"}],course_pages:[{name:"Videos",slug:"videos",icon:"fa fa-video-camera"},{name:"Quizzes",slug:"quizzes",icon:"fa fa-check"},{name:"Assignments",slug:"assignments",icon:"cui-calendar"}],resources:[{name:"Coursera for Educators",link:"https://blog.coursera.org/for-educators/"}],quizzes:[{name:"quiz 1",id:1}],quiz_id:5,video_id:1,max_nav_level:3,course_default:"course-select",platform_default:"platform-select",roles:[{name:"Teacher",id:"teacher"},{name:"Quality and design team member",id:"qdt"},{name:"Admin",id:"admin"}]}},d369:function(e,t,s){},efeb:function(e,t,s){"use strict";var r=s("1efe"),i=s.n(r);i.a}}]);
//# sourceMappingURL=chunk-356277c8.c4748ac5.js.map