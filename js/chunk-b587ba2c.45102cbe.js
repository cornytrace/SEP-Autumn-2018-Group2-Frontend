(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b587ba2c"],{"1efe":function(e,t,s){},"3c2e":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content-container"},[s("div",{staticClass:"selector-container"},[s("h4",[e._v(e._s(e.optionsTitle))]),s("b-input",{attrs:{id:"options-search",placeholder:"search"},model:{value:e.search1,callback:function(t){e.search1=t},expression:"search1"}}),s("b-form-select",{staticClass:"selector",attrs:{"text-field":e.tf,"value-field":e.vf,multiple:"","select-size":4,options:e.nonSelectedOptions},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1),s("div",{staticClass:"button-container"},[s("b-button",{attrs:{id:"move-right-button"},on:{click:e.moveRight}},[s("i",{staticClass:"cui-arrow-right"})]),s("b-button",{attrs:{id:"move-left-button"},on:{click:e.moveLeft}},[s("i",{staticClass:"cui-arrow-left"})])],1),s("div",{staticClass:"selector-container"},[s("h4",[e._v(e._s(e.selectedTitle))]),s("b-input",{attrs:{id:"selected-search",placeholder:"search"},model:{value:e.search2,callback:function(t){e.search2=t},expression:"search2"}}),s("b-form-select",{staticClass:"selector",attrs:{"text-field":e.tf,"value-field":e.vf,multiple:"","select-size":4,options:e.filteredRight},model:{value:e.selectedSelected,callback:function(t){e.selectedSelected=t},expression:"selectedSelected"}})],1)])},n=[],r=(s("6762"),s("2fdb"),s("7514"),s("ac4d"),s("8a81"),s("ac6a"),s("a026"),{name:"MultiSelect",data:function(){return{selectedOptions:[],selectedSelected:[],search1:"",search2:"",selected:this.value}},props:{optionsTitle:{type:String,default:"Options"},selectedTitle:{type:String,default:"Selected"},vf:"",tf:"",options:{type:Array},value:{type:Array,default:function(){return new Array}}},watch:{value:function(){this.selected=this.value}},methods:{moveRight:function(){var e=this,t=!0,s=!1,i=void 0;try{for(var n,r=function(){var t=n.value,s=e.options.find(function(s){return s[e.vf]===t});e.selected.push(s)},a=this.selectedOptions[Symbol.iterator]();!(t=(n=a.next()).done);t=!0)r()}catch(e){s=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(s)throw i}}this.selectedOptions=[],this.selectedSelected=[],this.$emit("input",this.selected)},moveLeft:function(){var e=this,t=!0,s=!1,i=void 0;try{for(var n,r=function(){var t=n.value,s=e.selected.find(function(s){return s[e.vf]===t});e.selected=e.selected.filter(function(e){return e.pk!==s.pk})},a=this.selectedSelected[Symbol.iterator]();!(t=(n=a.next()).done);t=!0)r()}catch(e){s=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(s)throw i}}this.selectedOptions=[],this.selectedSelected=[],this.$emit("input",this.selected)},hasPK:function(e,t){var s=!0,i=!1,n=void 0;try{for(var r,a=e[Symbol.iterator]();!(s=(r=a.next()).done);s=!0){var l=r.value;if(l.pk===t)return!0}}catch(e){i=!0,n=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw n}}return!1}},computed:{filteredRight:function(){var e=this;return this.selected.filter(function(t){return t.course_name.toLowerCase().includes(e.search2.toLowerCase())})},nonSelectedOptions:function(){var e=this;return this.options.filter(function(t){return!e.hasPK(e.selected,t.pk)&&t.course_name.toLowerCase().includes(e.search1.toLowerCase())})}}}),a=r,l=(s("efeb"),s("2877")),o=Object(l["a"])(a,i,n,!1,null,null,null);o.options.__file="MultiSelect.vue";t["a"]=o.exports},"87ef":function(e,t,s){"use strict";var i=s("ebea"),n=s.n(i);n.a},aaf8:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app flex-row align-items-center"},[s("div",{staticClass:"container"},[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{md:"8",sm:"10"}},[s("b-card",{staticClass:"mx-4",attrs:{"no-body":""}},[s("b-card-body",{staticClass:"p-4"},[s("b-form",[s("h1",[e._v("Register")]),s("p",{staticClass:"text-muted"},[e._v("Create a user account")]),s("b-input-group",{staticClass:"mb-3"},[s("b-input-group-prepend",[s("b-input-group-text",[e._v("@")])],1),s("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Email",autocomplete:"email",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),s("b-input-group",{staticClass:"mb-3"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.role,expression:"role"}],staticClass:"form-control",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.role=t.target.multiple?s:s[0]}}},e._l(e.settings.roles,function(t){return s("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])}))]),s("multi-select",{staticClass:"mb-3",attrs:{id:"course-selector",multiple:"","select-size":4,options:e.courses,tf:"course_name",vf:"pk"},model:{value:e.selectedCourses,callback:function(t){e.selectedCourses=t},expression:"selectedCourses"}}),s("span",{attrs:{id:"info-text"}},[e._v("Hold down CTRL to select multiple courses.")]),s("b-alert",{class:{hidden:e.isHidden},attrs:{id:"email-warning",show:"",variant:"danger"}},[e._v(e._s(e.warningText))]),s("b-button",{attrs:{id:"registerbutton",variant:"success",block:""},on:{click:e.doRegister}},[e._v("Create Account")])],1)],1)],1)],1)],1)],1)])},n=[],r=(s("7514"),s("e0eb")),a=s("83d6"),l=s("3c2e"),o={name:"Register",components:{MultiSelect:l["a"]},data:function(){return{email:"",settings:a["a"],role:a["a"].roles[0].id,courses:[],selectedCourses:[],warningText:"",isHidden:!0}},beforeMount:function(){var e=this;r["a"].getCourses().then(function(t){e.courses=t.data}).catch(function(e){console.log(e)})},methods:{doRegister:function(){var e=this;r["a"].validEmail(this.email)?r["a"].createUser({email:this.email,role:this.role,courses:this.selectedCourses}).then(function(t){e.$emit("update:users",t.data),e.$router.push("/admin")}).catch(function(t){for(var s in e.warningText="",t.response.data)e.warningText+=t.response.data[s][0]+"\n";e.isHidden=!1}):(this.warningText="Please fill in a valid email address",this.isHidden=!1)},getCourse:function(e){return this.courses.find(function(t){return t.pk===e})}}},c=o,u=(s("87ef"),s("2877")),d=Object(u["a"])(c,i,n,!1,null,null,null);d.options.__file="Register.vue";t["default"]=d.exports},ebea:function(e,t,s){},efeb:function(e,t,s){"use strict";var i=s("1efe"),n=s.n(i);n.a}}]);
//# sourceMappingURL=chunk-b587ba2c.45102cbe.js.map