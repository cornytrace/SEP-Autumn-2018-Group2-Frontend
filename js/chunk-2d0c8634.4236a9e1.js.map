{"version":3,"sources":["webpack:///./src/views/pages/ResetPassword.vue?fdf6","webpack:///src/views/pages/ResetPassword.vue","webpack:///./src/views/pages/ResetPassword.vue?81f0","webpack:///./src/views/pages/ResetPassword.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","md","no-body","_v","type","placeholder","autocomplete","model","value","callback","$$v","password","expression","nativeOn","keyup","$event","_k","keyCode","key","doReset","passwordCheck","id","variant","dismissible","show","showAlert","on","dismissed","domProps","innerHTML","_s","errorReason","showSuccess","cols","click","staticRenderFns","ResetPasswordvue_type_script_lang_js_","name","data","methods","_this","checkPassword","util","resetPassword","$store","state","resetId","token","resetToken","then","response","catch","error","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","reason","err","return","pages_ResetPasswordvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0c8634.4236a9e1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app flex-row align-items-center\"},[_c('div',{staticClass:\"container\"},[_c('b-row',{staticClass:\"justify-content-center\"},[_c('b-col',{attrs:{\"md\":\"8\"}},[_c('b-card-group',[_c('b-card',{staticClass:\"p-4\",attrs:{\"no-body\":\"\"}},[_c('b-card-body',[_c('b-form',[_c('h1',[_vm._v(\"Reset Password\")]),_c('p',{staticClass:\"text-muted\"},[_vm._v(\"Reset your password\")]),_c('b-input-group',{staticClass:\"mb-4\"},[_c('b-input-group-prepend',[_c('b-input-group-text',[_c('i',{staticClass:\"icon-lock\"})])],1),_c('b-form-input',{staticClass:\"form-control\",attrs:{\"type\":\"password\",\"placeholder\":\"Password\",\"autocomplete\":\"current-password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('b-input-group',{staticClass:\"mb-4\"},[_c('b-input-group-prepend',[_c('b-input-group-text',[_c('i',{staticClass:\"icon-lock\"})])],1),_c('b-form-input',{staticClass:\"form-control\",attrs:{\"type\":\"password\",\"placeholder\":\"Password (repeat)\",\"autocomplete\":\"current-password\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.doReset($event)}},model:{value:(_vm.passwordCheck),callback:function ($$v) {_vm.passwordCheck=$$v},expression:\"passwordCheck\"}})],1),_c('b-alert',{attrs:{\"id\":\"alertbox\",\"variant\":\"danger\",\"dismissible\":\"\",\"show\":_vm.showAlert},on:{\"dismissed\":function($event){_vm.showAlert=false}}},[_vm._v(\"\\n                  Reset failed: \"),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.errorReason)}})]),_c('b-alert',{attrs:{\"id\":\"successbox\",\"variant\":\"success\",\"dismissible\":\"\",\"show\":_vm.showSuccess},on:{\"dismissed\":function($event){_vm.showSuccess=false}}},[_vm._v(\"\\n                  Reset success.\\n                \")]),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"6\"}},[_c('b-button',{staticClass:\"px-4\",attrs:{\"variant\":\"primary\",\"id\":\"resetbutton\"},on:{\"click\":_vm.doReset}},[_vm._v(\"Reset\")])],1)],1)],1)],1)],1)],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app flex-row align-items-center\">\n    <div class=\"container\">\n      <b-row class=\"justify-content-center\">\n        <b-col md=\"8\">\n          <b-card-group>\n            <b-card no-body class=\"p-4\">\n              <b-card-body>\n                <b-form>\n                  <h1>Reset Password</h1>\n                  <p class=\"text-muted\">Reset your password</p>\n                  <b-input-group class=\"mb-4\">\n                    <b-input-group-prepend><b-input-group-text><i class=\"icon-lock\"></i></b-input-group-text></b-input-group-prepend>\n                    <b-form-input type=\"password\" v-model=\"password\" class=\"form-control\" placeholder=\"Password\" autocomplete=\"current-password\"/>\n                  </b-input-group>\n                  <b-input-group class=\"mb-4\">\n                    <b-input-group-prepend><b-input-group-text><i class=\"icon-lock\"></i></b-input-group-text></b-input-group-prepend>\n                    <b-form-input type=\"password\" v-model=\"passwordCheck\" class=\"form-control\" placeholder=\"Password (repeat)\" autocomplete=\"current-password\" @keyup.native.enter=\"doReset\"/>\n                  </b-input-group>\n                  <b-alert id=\"alertbox\" variant=\"danger\"\n                  dismissible :show=\"showAlert\" @dismissed=\"showAlert=false\">\n                    Reset failed: <span v-html=\"errorReason\"></span>\n                  </b-alert>\n                  <b-alert id=\"successbox\" variant=\"success\"\n                  dismissible :show=\"showSuccess\" @dismissed=\"showSuccess=false\">\n                    Reset success.\n                  </b-alert>\n                  <b-row>\n                    <b-col cols=\"6\">\n                      <b-button variant=\"primary\" id=\"resetbutton\" class=\"px-4\" @click=\"doReset\">Reset</b-button>\n                    </b-col>\n                  </b-row>\n                </b-form>\n              </b-card-body>\n            </b-card>\n          </b-card-group>\n        </b-col>\n      </b-row>\n    </div>\n  </div>\n</template>\n\n<script>\nimport util from \"@/util\";\n\nexport default {\n  name: \"ResetPassword\",\n  data: function() {\n    return {\n      password: \"\",\n      passwordCheck: \"\",\n      errorReason: \"\",\n      showAlert: false,\n      showSuccess: false,\n    };\n  },\n  methods: {\n    doReset: function() {\n      if (this.checkPassword()) {\n        util\n          .resetPassword(this.$store.state.resetId, {\n            password: this.password,\n            token: this.$store.state.resetToken,\n          })\n          .then(response => {\n            this.showAlert = false;\n            this.showSuccess = true;\n          })\n          .catch(error => {\n            if (error.response.data.password) {\n              for (let reason of error.response.data.password) {\n                this.errorReason += reason + \"</br>\";\n              }\n            } else {\n              this.errorReason = \"An error has occurred\";\n            }\n            this.showAlert = true;\n          });\n      }\n    },\n    checkPassword() {\n      if (this.password === this.passwordCheck) {\n        return true;\n      }\n      if (this.$store.state.resetToken === \"\") {\n        this.errorReason = \"No valid token\";\n        this.showAlert = true;\n        return false;\n      }\n      this.errorReason = \"Please enter two identical passwords.\";\n      this.showAlert = true;\n      return false;\n    },\n  },\n};\n</script>\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResetPassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResetPassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResetPassword.vue?vue&type=template&id=3e79c5b7&\"\nimport script from \"./ResetPassword.vue?vue&type=script&lang=js&\"\nexport * from \"./ResetPassword.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"ResetPassword.vue\"\nexport default component.exports"],"sourceRoot":""}