(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e8c24"],{"8b48":function(t,r,s){"use strict";s.r(r);var e=function(){var t=this,r=t.$createElement,s=t._self._c||r;return s("div",{staticClass:"app flex-row align-items-center"},[s("div",{staticClass:"container"},[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{md:"8"}},[s("b-card-group",[s("b-card",{staticClass:"p-4",attrs:{"no-body":""}},[s("b-card-body",[s("b-form",[s("h1",[t._v("Login")]),s("p",{staticClass:"text-muted"},[t._v("Sign In to your account")]),s("b-input-group",{staticClass:"mb-3"},[s("b-input-group-prepend",[s("b-input-group-text",[s("i",{staticClass:"icon-user"})])],1),s("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Email",autocomplete:"username email"},model:{value:t.username,callback:function(r){t.username=r},expression:"username"}})],1),s("b-input-group",{staticClass:"mb-4"},[s("b-input-group-prepend",[s("b-input-group-text",[s("i",{staticClass:"icon-lock"})])],1),s("b-form-input",{staticClass:"form-control",attrs:{type:"password",placeholder:"Password",autocomplete:"current-password"},nativeOn:{keyup:function(r){return"button"in r||!t._k(r.keyCode,"enter",13,r.key,"Enter")?t.doLogin(r):null}},model:{value:t.password,callback:function(r){t.password=r},expression:"password"}})],1),s("b-alert",{attrs:{id:"errorAlert",variant:"danger",dismissible:"",show:t.showAlert},on:{dismissed:function(r){t.showAlert=!1}}},[t._v("\n                  Login failed: "+t._s(t.errorReason)+".\n                ")]),s("b-row",[s("b-col",{attrs:{cols:"6"}},[s("b-button",{staticClass:"px-4",attrs:{variant:"primary",id:"loginbutton"},on:{click:t.doLogin}},[t._v("Login")])],1),s("b-col",{staticClass:"text-right",attrs:{cols:"6"}},[s("b-button",{staticClass:"px-0",attrs:{variant:"link"},on:{click:t.forgotPassword}},[t._v("Forgot password?")])],1)],1)],1)],1)],1)],1)],1)],1)],1)])},o=[],a=s("e0eb"),n=s("c100"),i={name:"Login",methods:{doLogin:function(){var t=this;if(""==this.username||""==this.password)return this.errorReason=n["a"].error_username_password,void(this.showAlert=!0);this.$store.dispatch("login",{username:this.username,password:this.password}).then(function(){a["a"].getUser().then(function(r){t.$store.commit("setUser",r.data),"admin"==r.data.role?t.$router.push("/admin"):t.$route.query&&void 0!==t.$route.query.redirect?t.$router.push(t.$route.query.redirect):t.$router.push("/")}).catch(function(){t.errorReason=n["a"].error_server,t.showAlert=!0})}).catch(function(r){r.response&&401==r.response.status?(t.errorReason=n["a"].error_username_password,t.showAlert=!0):(t.errorReason=n["a"].error_server,t.showAlert=!0)})},forgotPassword:function(){this.$router.push("/pages/forgotpassword")}},data:function(){return{username:"",password:"",showAlert:!1,errorReason:""}}},u=i,c=s("2877"),l=Object(c["a"])(u,e,o,!1,null,null,null);l.options.__file="Login.vue";r["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d0e8c24.4f5ccb5e.js.map